\documentclass[a4,english]{report}
\usepackage[a4paper, hmargin=2.5cm,vmargin=1.5cm]{geometry}
\usepackage[colorlinks = true]{hyperref}
\hypersetup{
  pdftitle    = {Master thesis - Feedback on Backpressure},
  pdfauthor   = {Richard van Heest},
  colorlinks  = true,
  linkcolor   = [rgb]{0.1,0.1,0.4},
  citecolor   = [rgb]{0.4,0.1,0.1},
  filecolor   = [rgb]{0.1,0.4,0.4},
  urlcolor    = [rgb]{0.1,0.1,0.7}
}
\usepackage{listings}
\usepackage{color}
\usepackage{verbatim} % \verb{} for inline code
\usepackage[numbers,square,sort]{natbib} % references as [1,2,3] in superscript -> see also http://merkel.zoneo.net/Latex/natbib.php
\usepackage{xspace} % put a space after an abbreviation in a newcommand
\usepackage{amsmath}
\usepackage{amsfonts} % for the \checkmark command
\usepackage{pifont}% http://ctan.org/pkg/pifont
\usepackage{graphicx} % to show images
\usepackage{float} % places the images at precisely the location in the LaTeX code
\usepackage[bottom]{footmisc} % fix \footnote{} position at the bottom of the page
\usepackage{datetime}
\usepackage{caption} % used for multiple images in one figure
\usepackage{subcaption} % used for multiple images in one figure
\usepackage[nameinlink]{cleveref}
\usepackage[titletoc, page]{appendix}

\newdateformat{monthyeardate}{\monthname[\THEMONTH], \THEYEAR}

\crefname{appsec}{Appendix}{Appendices}

\newcommand{\todo}[1]{\textcolor{red}{\textbf{\large @TODO: #1}}}
\newcommand{\code}[1]{\sloppy{\mbox{\texttt{#1}}}}
\newcommand{\HRule}{\rule{\textwidth}{0.5mm}}

\newcommand{\obs}{\texttt{Observable}\xspace}
\newcommand{\obv}{\texttt{Observer}\xspace}
\newcommand{\subs}{\texttt{Subscription}\xspace}
\newcommand{\subj}{\texttt{Subject}\xspace}
\newcommand{\bsubj}{\texttt{BehaviorSubject}\xspace}
\newcommand{\sch}{\texttt{Scheduler}\xspace}
\newcommand{\ier}{\texttt{IEnumerator}\xspace}
\newcommand{\ieb}{\texttt{IEnumerable}\xspace}
\newcommand{\id}{\texttt{IDisposable}\xspace}
\newcommand{\itr}{\texttt{Iterator}\xspace}
\newcommand{\itb}{\texttt{Iterable}\xspace}
\newcommand{\comp}{\texttt{Component}\xspace}

\definecolor{pgreen}{rgb}{0,0.5,0}
\definecolor{pgrey}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\lstdefinestyle{ScalaStyle}{
  frame=tb,
  language=Scala,
  showspaces=false,
  showtabs=false,
  breaklines=true,
  showstringspaces=false,
  breakatwhitespace=true,
  commentstyle=\color{pgreen},
  keywordstyle=\color{blue},
  stringstyle=\color{mauve},
  basicstyle=\ttfamily,
  moredelim=[il][\textcolor{pgrey}]{$$},
  moredelim=[is][\textcolor{pgrey}]{\%\%}{\%\%},
  numbers=left,
  numberstyle=\color{pgrey},
  columns=flexible,
  mathescape=true,
  escapechar=|
}
\lstdefinestyle{InlineScalaStyle}{
  frame=none,
  language=Scala,
  xleftmargin=.25in,
  xrightmargin=.25in,
  showspaces=false,
  showtabs=false,
  breaklines=true,
  showstringspaces=false,
  breakatwhitespace=true,
  commentstyle=\color{pgreen},
  keywordstyle=\color{blue},
  stringstyle=\color{mauve},
  basicstyle=\ttfamily,
  moredelim=[il][\textcolor{pgrey}]{$$},
  moredelim=[is][\textcolor{pgrey}]{\%\%}{\%\%},
  numbers=none,
  columns=flexible,
  mathescape=true,
  escapechar=|
}
\lstdefinestyle{HaskellStyle}{
  frame=tb,
  language=Haskell,
  showspaces=false,
  showtabs=false,
  breaklines=true,
  showstringspaces=false,
  breakatwhitespace=true,
  commentstyle=\color{pgreen},
  keywordstyle=\color{blue},
  stringstyle=\color{mauve},
  basicstyle=\ttfamily,
  moredelim=[il][\textcolor{pgrey}]{$$},
  moredelim=[is][\textcolor{pgrey}]{\%\%}{\%\%},
  numbers=left,
  numberstyle=\color{pgrey},
  columns=flexible,
  mathescape=true,
  escapechar=|,
  deletekeywords={Monad, Functor, flip, return, Int, const}
}
\lstdefinestyle{InlineHaskellStyle}{
  frame=none,
  language=Haskell,
  xleftmargin=.25in,
  xrightmargin=.25in,
  showspaces=false,
  showtabs=false,
  breaklines=true,
  showstringspaces=false,
  breakatwhitespace=true,
  commentstyle=\color{pgreen},
  keywordstyle=\color{blue},
  stringstyle=\color{mauve},
  basicstyle=\ttfamily,
  moredelim=[il][\textcolor{pgrey}]{$$},
  moredelim=[is][\textcolor{pgrey}]{\%\%}{\%\%},
  numbers=none,
  columns=flexible,
  mathescape=true,
  escapechar=|,
  deletekeywords={Monad, Functor, flip, return, Int, const}
}

\begin{document}
\input{title}

\pagestyle{plain}
\pagenumbering{roman}
\setcounter{page}{1}
\input{0.0-preface}

\clearpage
\setcounter{tocdepth}{1}
{\hypersetup{linkcolor = black} \tableofcontents}

\clearpage
\setcounter{page}{1}
\pagenumbering{arabic}
\input{0.1-introduction}

\clearpage
\input{1.0-problem-statement}

\clearpage
\input{2.0-hypothesis}

\clearpage
\input{3.0-intro-to-feedback-control}

\clearpage
\input{4.0-feedback-api}

\clearpage
\input{5.0-solving-overproduction-using-feedback-control}

\clearpage
\input{6.0-conclusion-and-future-work}

\clearpage
\begin{appendices}
\crefalias{chapter}{appsec}
\input{appendix1.0-balltracker-imperative}
\input{appendix2.0-feedback-api}
\input{appendix3.0-balltracker-reactive}
\end{appendices}

\clearpage
\phantomsection\addcontentsline{toc}{chapter}{References}
\renewcommand{\bibname}{References}
\bibliographystyle{acm}
\bibliography{references}

\end{document}